{% extends 'hira/layout.html' %}

{% block body %}
<div class="max-w-2xl mx-auto bg-white p-8 border border-gray-300 rounded-lg shadow-lg mt-10">
    <div class="text-center mb-8">
        <h2 class="text-4xl font-extrabold text-gray-900">Edit Profile</h2>
    </div>
    <form method="POST" enctype="multipart/form-data" class="space-y-8">
        {% csrf_token %}
        
        <div class="space-y-6">
            <h3 class="text-2xl font-bold text-gray-800 border-b pb-2">User Information</h3>
            {% for field in user_form %}
            <div>
                <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                    {{ field.label }}
                </label>
                <div class="mt-1">
                    {{ field }}
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="space-y-6">
            <h3 class="text-2xl font-bold text-gray-800 border-b pb-2">General Profile Information</h3>
            {% for field in profile_form %}
            <div>
                <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                    {{ field.label }}
                </label>
                <div class="mt-1">
                    {% if field.name == 'languages' %}
                        <div class="grid grid-cols-2 gap-4">
                            {% for checkbox in field %}
                            <div class="flex items-center">
                                {{ checkbox.tag }}
                                <label for="{{ checkbox.id_for_label }}" class="ml-2 text-sm text-gray-700">
                                    {{ checkbox.choice_label }}
                                </label>
                            </div>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ field }}
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="space-y-6">
            <h3 class="text-2xl font-bold text-gray-800 border-b pb-2">
                {% if user.user_type == 'teacher' %}Teacher{% else %}Student{% endif %} Specific Information
            </h3>
            {% for field in specific_form %}
            <div>
                <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                    {{ field.label }}
                </label>
                <div class="mt-1">
                    {{ field }}
                </div>
            </div>
            {% endfor %}
        </div>

        <div>
            <button type="submit" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out">
                Update Profile
            </button>
        </div>
    </form>
</div>
{% endblock %}